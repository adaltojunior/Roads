/*! roads 2015-01-12 */
var Ro=function(){var a={init:function(a){var b=function(){for(var b=document.querySelectorAll('link[rel="import"]'),c=document.querySelector("ro-app"),d=0;d<b.length;d++){var e=b[d]["import"].body.querySelector("ro-view"),f=e.cloneNode(!0);c.appendChild(f)}setTimeout(a,100)};window.addEventListener("HTMLImportsLoaded",b.bind(this))},styleGenerator:function(a){var b="";for(key in a)b+=key+": "+a[key]+"; ";return b},templateEngine:function(a,b){for(var c=/{{([^}}]+)?}}/g;match=c.exec(a);)a=a.replace(match[0],this.findByKey(b,match[1]));return a},findByKey:function(a,b){var c,b=b||"",a=a||{},d=b.split("."),e=[],f=[],g=!!(d.length>0),h=function(a,b){var c;for(c in a)c===b?e.push(a[c]):"object"==typeof a[c]&&h(a[c],b)};if(g){var i=d.shift();for(h(a,i);d.length>0;)if(i=d.shift(),e.length>0){f=e.slice(0),e=[];for(c in f)h(f[c],i)}}else h(a,b);return 1===e.length?e.pop():e},Http:function(){this.url="",this.method="get",this.async=!0,this.data=null,this.contentType="application/json",this.success=null,this.timeout=3e4,this.ontimeout=null,this.roSuccess=null,this.error=null,this.send=function(){var a=new XMLHttpRequest;a.open(this.method,this.url,this.async),a.setRequestHeader("Content-Type",this.contentType),a.onreadystatechange=this.sendCallback.bind(this),a.ontimeout=function(a){return function(){a.ontimeout&&a.ontimeout(this,a)}}(this),a.send(this.data),this.dropConnection=setTimeout(function(a){return function(){a.abort()}}(a),this.timeout)},this.sendCallback=function(a){var b=a.target,c="";4!==b.readyState||200!==b.status&&201!==b.status&&204!==b.status?this.error&&this.error(b):(clearInterval(this.dropConnection),this.success&&(c=b.responseText&&"application/json"===this.contentType?JSON.parse(b.responseText):b.responseText,this.success(c,b)))}}};return a.Controller=function(a,b){var c=function(){this.view=document.querySelector('[ro-controller="'+a+'"]'),this.init()};if(b)for(key in b)c.prototype[key]=b[key];return c},a}();!function(){xtag.register("ro-app",{lifecycle:{created:function(){},inserted:function(){this.putViewsInFirstPosition()},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{putViewsInFirstPosition:function(){var a=document.querySelectorAll("ro-view:not([mainPage])"),b=document.querySelector("ro-view[mainPage]");if(b&&(b.style.cssText=Ro.styleGenerator({transform:"translateX(0)","-webkit-transform":"translateX(0)"})),a)for(var c=0,d=a.length;d>c;c++)a[c].style.cssText=Ro.styleGenerator({transform:"translateX(2000px)","-webkit-transform":"translateX(2000px)"})},gotoView:function(a,b){var c,d;if(c=document.getElementById(a),d=document.getElementById(b),!c)throw'ro-view: "From" view can not be found';if(!d)throw'ro-view: "To" view can not be found';d.style.cssText=Ro.styleGenerator({"-webkit-transition":"500ms",transition:"500ms","-webkit-transform":"translateX(0px)",transform:"translateX(0px)","z-index":"2","-webkit-transition-timing-function":"ease","transition-timing-function":"ease"}),c.style.cssText=Ro.styleGenerator({"-webkit-transition":"500ms",transition:"500ms","transition-delay":"500ms","-webkit-transform":"translateX(2000px)",transform:"translateX(2000px)","z-index":"1"})},backtoView:function(a,b){var c,d;c=document.getElementById(a),d=document.getElementById(b),d.style.cssText=Ro.styleGenerator({"-webkit-transition":"2ms",transition:"2ms","-webkit-transform":"translateX(0px)",transform:"translateX(0px)","z-index":"1","-webkit-transition-timing-function":"ease","transition-timing-function":"ease"}),c.style.cssText=Ro.styleGenerator({"-webkit-transition":"500ms",transition:"500ms","-webkit-transform":"translateX(2000px)",transform:"translateX(2000px)","z-index":"2"})}}})}(),function(){xtag.register("ro-button",{lifecycle:{created:function(){this.addListeners()},inserted:function(){},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{addListeners:function(){var a=new Function(this.getAttribute("action"));this.addEventListener("click",a)}}})}(),function(){xtag.register("ro-list",{lifecycle:{created:function(){this.xtag.item=this.querySelector("ro-item"),this.xtag.itemTemplate=this.querySelector("ro-item").innerHTML,this.xtag.itemAction=this.xtag.item.getAttribute("action")},inserted:function(){var a=this.parentElement.nextElementSibling;a&&"RO-FOOTER"===a.tagName&&(this.style.cssText=Ro.styleGenerator({height:"-webkit-calc(100% - 100px)",height:"-moz-calc(100% - 100px)",height:"calc(100% - 100px)"}))},removed:function(){}},events:{reveal:function(){}},accessors:{data:[]},methods:{setData:function(a){this.xtag.data=a,this.parseList()},parseList:function(){var a=this.xtag.data;this.innerHTML="";for(var b=0;b<a.length;b++){var c=document.createElement("ro-item"),d=new Function(Ro.templateEngine(this.xtag.itemAction,a[b]));c.addEventListener("click",d),c.innerHTML=Ro.templateEngine(this.xtag.itemTemplate,a[b]),this.appendChild(c)}}}})}();