/*! roads 2015-02-10 */
var Ro=function(){var a={init:function(a){var b=function(){for(var b=document.querySelectorAll('link[rel="import"]'),c=document.querySelector("ro-app"),d=0;d<b.length;d++){var e=b[d]["import"].body.querySelector("ro-view"),f=e.cloneNode(!0);c.appendChild(f)}setTimeout(a,100)};window.addEventListener("HTMLImportsLoaded",b.bind(this)),document.addEventListener("deviceready",function(){document.addEventListener("backbutton",function(){Ro.Globals.backButtonFunction()},!1)},!1)},styleGenerator:function(a){var b="";for(key in a)b+=key+": "+a[key]+"; ";return b},templateEngine:function(a,b){for(var c,d,e,f=/{{([^}}]+)?}}/g,g=0;match=f.exec(a);)g=match[1].indexOf("|"),g>0?(c=match[1].split("|")[1].trim(),c.indexOf(":")>0&&(e=c.split(":")[1],c=c.split(":")[0]),d=match[1].split("|")[0].trim()):d=match[1],a=a.replace(match[0],this.findByKey(b,d));return g&&Ro.Filter.filters[c]&&(a=Ro.Filter.filters[c](a||d,e)),a},findByKey:function(a,b){var c,b=b||"",a=a||{},d=b.split("."),e=[],f=[],g=!!(d.length>0),h=function(a,b){var c;for(c in a)c===b?e.push(a[c]):"object"==typeof a[c]&&h(a[c],b)};if(g){var i=d.shift();for(h(a,i);d.length>0;)if(i=d.shift(),e.length>0){f=e.slice(0),e=[];for(c in f)h(f[c],i)}}else h(a,b);return 1===e.length?e.pop():e},Http:function(){this.url="",this.method="get",this.async=!0,this.data=null,this.contentType="application/json",this.success=null,this.timeout=3e4,this.ontimeout=null,this.roSuccess=null,this.error=null,this.send=function(){var a=new XMLHttpRequest;a.open(this.method,this.url,this.async),a.setRequestHeader("Content-Type",this.contentType),a.onreadystatechange=this.sendCallback.bind(this),a.ontimeout=function(a){return function(){a.ontimeout&&a.ontimeout(this,a)}}(this),a.send(this.data),this.dropConnection=setTimeout(function(a){return function(){a.abort()}}(a),this.timeout)},this.sendCallback=function(a){var b=a.target,c="";4!==b.readyState||200!==b.status&&201!==b.status&&204!==b.status?this.error&&this.error(b):(clearInterval(this.dropConnection),this.success&&(c=b.responseText&&"application/json"===this.contentType?JSON.parse(b.responseText):b.responseText,this.success(c,b)))}}};return a.Controller=function(a,b){var c=function(){this.view=document.querySelector('[ro-controller="'+a+'"]'),this.init(),this.show&&this.view.setShowFunction(this.show.bind(this))};if(b)for(key in b)c.prototype[key]=b[key];return c},a.Environment={isTouchDevice:!!("ontouchstart"in window),platform:{androidVersion:function(){var a=navigator.userAgent.match(/Android([^;]*)/);return a&&a.length>1?parseInt(a[1],10):!1}(),isAndroid:null===navigator.userAgent.match("Android")?!1:!0,isIPhone:null===navigator.userAgent.match("iPhone")?!1:!0,isIPad:null===navigator.userAgent.match("iPad")?!1:!0,isIOS:navigator.userAgent.match("iPhone")||navigator.userAgent.match("iPad")?!0:!1,isFxOS:navigator.userAgent.match(/Mozilla\/5.0 \(Mobile;/)||navigator.userAgent.match("iPad")?!0:!1}},a.Globals={backButtonFunction:function(){alert("No back function defined")}},a.Events={click:function(){return a.Environment.isTouchDevice?"touchstart":"click"}},a.Filter={filters:{date:function(a,b){if(!a)throw"Roads.Filter.date: dateValue is mandatory";var c=b||Ro.i18n.defaults.date,d=new Date(a),e=d.getFullYear(),f=d.getDate(),g=d.getMonth()+1;return c=c.replace(/yyyy/g,e),c=c.replace(/yy/g,String(e).substr(2,2)),c=c.replace(/MM/g,10>g?"0"+g:g),c=c.replace(/M/g,g),c=c.replace(/dd/g,10>f?"0"+f:f),c=c.replace(/d/g,f)},time:function(a,b){if(!a)throw"Roads.Filter.date: timeValue is mandatory";var c=b||Ro.i18n.defaults.time,d=new Date(a),e=d.getHours(),f=(e+11)%12+1,g=d.getMinutes(),h=d.getSeconds(),i=e>=12?"pm":"am";return c=c.replace(/HH/g,10>e?"0"+e:e),c=c.replace(/H/g,e),c=c.replace(/hh/g,10>f?"0"+f:f),c=c.replace(/h/g,f),c=c.replace(/mm/g,10>g?"0"+g:g),c=c.replace(/ss/g,h),c=c.replace(/a/g,i)},i18n:function(a){return Ro.i18n.translations[a]||a}},register:function(a,b){if(!a)throw"Roads.Filter.register: filterName is mandatory";this.filters[a]=b}},a.i18n={defaults:{currency:"US$",date:"MM/dd/yyyy",decimalSymbol:",",digitalGrouping:".",language:"en",time:"HH:mm",systemOfMeasurement:"METRIC"},translations:{}},a}();!function(){xtag.register("ro-app",{lifecycle:{created:function(){var a=function(){var a=document.querySelector("style#roViewStyles");a||(a=document.createElement("style"),a.id="roViewStyles",document.head.appendChild(a)),a.innerHTML="ro-view { height: "+window.innerHeight+"px}"};document.addEventListener("deviceready",function(){setTimeout(a,500)}),window.addEventListener("orientationchange",function(){setTimeout(a,500)})},inserted:function(){this.putViewsInFirstPosition()},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{putViewsInFirstPosition:function(){var a=document.querySelectorAll("ro-view:not([mainPage])"),b=document.querySelector("ro-view[mainPage]");if(b&&(b.style.cssText=Ro.styleGenerator({transform:"translateX(0)","-webkit-transform":"translateX(0)"})),a)for(var c=0,d=a.length;d>c;c++)a[c].style.cssText=Ro.styleGenerator({transform:"translateX(2000px)","-webkit-transform":"translateX(2000px)"})},gotoView:function(a,b){var c,d;if(c=document.getElementById(a),d=document.getElementById(b),!c)throw'ro-view: "From" view can not be found';if(!d)throw'ro-view: "To" view can not be found';d.style.cssText=Ro.styleGenerator({"-webkit-transition":"500ms",transition:"500ms","-webkit-transform":"translateX(0px)",transform:"translateX(0px)","z-index":"2","-webkit-transition-timing-function":"ease","transition-timing-function":"ease"}),c.style.cssText=Ro.styleGenerator({"-webkit-transition":"500ms",transition:"500ms","transition-delay":"500ms","-webkit-transform":"translateX(2000px)",transform:"translateX(2000px)","z-index":"1"}),xtag.fireEvent(d,"show")},backtoView:function(a,b){var c,d;c=document.getElementById(a),d=document.getElementById(b),d.style.cssText=Ro.styleGenerator({"-webkit-transition":"2ms",transition:"2ms","-webkit-transform":"translateX(0px)",transform:"translateX(0px)","z-index":"1","-webkit-transition-timing-function":"ease","transition-timing-function":"ease"}),c.style.cssText=Ro.styleGenerator({"-webkit-transition":"500ms",transition:"500ms","-webkit-transform":"translateX(2000px)",transform:"translateX(2000px)","z-index":"2"}),xtag.fireEvent(d,"show")}}})}(),function(){xtag.register("ro-back-button",{lifecycle:{created:function(){this.addListeners()},inserted:function(){Ro.Environment.platform.isIOS||Ro.Environment.platform.isFxOS||(this.style.display="none")},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{addListeners:function(){this.addEventListener(Ro.Events.click(),function(){Ro.Globals.backButtonFunction()},!0)},registerBackAction:function(a){Ro.Globals=Ro.Globals||{},Ro.Globals.backButtonFunction=a}}})}(),function(){xtag.register("ro-button",{lifecycle:{created:function(){this.addListeners()},inserted:function(){},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{addListeners:function(){var a=new Function(this.getAttribute("action"));this.addEventListener("click",a)}}})}(),function(){xtag.register("ro-float-menu",{lifecycle:{created:function(){this.xtag.itemsAreVisible=!1,this.xtag.overlay=document.createElement("ro-overlay"),this.xtag.hitArea=document.createElement("ro-hitarea")},inserted:function(){this.appendChild(this.xtag.hitArea),this.parentElement.appendChild(this.xtag.overlay);var a=function(a){a.preventDefault(),a.stopPropagation(),this.toggleMenu()};this.xtag.hitArea.onclick=a.bind(this)},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{addItem:function(){},removeItem:function(){},toggleMenu:function(){this.xtag.itemsAreVisible?this.hideItems():this.showItems()},hideItems:function(){this.setAttribute("state","hideItems"),this.xtag.overlay.setAttribute("state","hideItems"),this.xtag.itemsAreVisible=!1},showItems:function(){this.setAttribute("state","showItems"),this.xtag.overlay.setAttribute("state","showItems"),this.xtag.itemsAreVisible=!0},parseList:function(){}}})}(),function(){xtag.register("ro-header",{lifecycle:{created:function(){Ro.Environment.platform.isIOS&&(this.style.paddingTop="20px")},inserted:function(){},removed:function(){}},events:{},accessors:{},methods:{}})}(),function(){xtag.register("ro-input",{lifecycle:{created:function(){this.innerHTML.trim()||(this.xtag.field=document.createElement("input"),this.xtag.field.type=this.getAttribute("type"),this.xtag.field.value=this.getAttribute("value"),this.xtag.field.placeholder=this.getAttribute("placeholder"),this.xtag.field.name=this.getAttribute("name"),this.xtag.icon=document.createElement("ro-icon"),this.xtag.icon.setAttribute("iconName",this.getAttribute("icon")),this.appendChild(this.xtag.icon),this.appendChild(this.xtag.field))},inserted:function(){},removed:function(){}},events:{},accessors:{},methods:{}})}(),function(){xtag.register("ro-layout",{lifecycle:{created:function(){},inserted:function(){},removed:function(){}},events:{reveal:function(){}},accessors:{},methods:{setData:function(a){this.xtag.data=a,this.parseLayout()},parseLayout:function(){var a=this.xtag.data;this.innerHTML=Ro.templateEngine(this.innerHTML,a)}}})}(),function(){xtag.register("ro-list",{lifecycle:{created:function(){this.xtag.item=this.querySelector("ro-item"),this.xtag.itemTemplate=this.querySelector("ro-item").innerHTML,this.xtag.itemAction=this.xtag.item.getAttribute("action")},inserted:function(){var a=this.parentElement.nextElementSibling;a&&"RO-FOOTER"===a.tagName&&(this.style.cssText=Ro.styleGenerator({height:"-webkit-calc(100% - 100px)",height:"-moz-calc(100% - 100px)",height:"calc(100% - 100px)"}))},removed:function(){}},events:{reveal:function(){}},accessors:{data:[]},methods:{setData:function(a){this.xtag.data=a,this.parseList()},parseList:function(){var a=this.xtag.data;this.innerHTML="";for(var b=0;b<a.length;b++){var c=document.createElement("ro-item"),d=new Function(Ro.templateEngine(this.xtag.itemAction,a[b]));c.addEventListener("click",d),c.innerHTML=Ro.templateEngine(this.xtag.itemTemplate,a[b]),this.appendChild(c)}}}})}(),function(){xtag.register("ro-view",{lifecycle:{created:function(){Ro.Environment.platform.isIOS&&!this.className.match(/isIOS/)&&(this.className+="isIOS ")},inserted:function(){},removed:function(){}},events:{show:function(){this.xtag.showFunction&&this.xtag.showFunction()}},accessors:{},methods:{setShowFunction:function(a){this.xtag.showFunction=a}}})}();